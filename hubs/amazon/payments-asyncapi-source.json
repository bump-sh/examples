{"asyncapi":"2.0.0","info":{"title":"Payments","version":"1.0.0","description":"Stream payments informations on MQTT.\n","license":{"name":"Apache 2.0","url":"https://www.apache.org/licenses/LICENSE-2.0"}},"servers":{"production":{"url":"http://payments.us-east-1.amazonaws.com","protocol":"mqtt","description":"Production payments stream.","variables":{"port":{"description":"Secure connection (TLS) is available through port 8883.","default":"1883","enum":["1883","8883"]}},"security":[{"apiKey":[]},{"openIdConnectWellKnown":[]}]}},"defaultContentType":"application/json","channels":{"payments/charges":{"publish":{"summary":"Publish charges related messages.","message":{"oneOf":[{"$ref":"#/components/messages/ChargeCreated"},{"$ref":"#/components/messages/ChargeSucceeded"}]}},"subscribe":{"summary":"Subscribe to charges related messages.","message":{"oneOf":[{"$ref":"#/components/messages/ChargeCreated"},{"$ref":"#/components/messages/ChargeSucceeded"}]}}},"payments/invoices":{"publish":{"summary":"Publish invoices related messages.","message":{"$ref":"#/components/messages/InvoicePublished"}},"subscribe":{"summary":"Subscribe to invoices related messages.","message":{"$ref":"#/components/messages/InvoicePublished"}}}},"components":{"securitySchemes":{"apiKey":{"type":"apiKey","in":"user"}},"messages":{"ChargeCreated":{"name":"ChargeCreated","title":"A charge has been created.","summary":"Attributes of the created Charge object.","contentType":"application/json","payload":{"$ref":"#/components/schemas/Charge"}},"ChargeSucceeded":{"name":"ChargeSucceeded","title":"A charge has succeeded.","summary":"Attributes of the succeeded Charge object.","contentType":"application/json","payload":{"$ref":"#/components/schemas/Charge"}},"InvoicePublished":{"name":"InvoicePublished","title":"An invoice has been published.","summary":"Attributes of the Invoice object.","contentType":"application/json","payload":{"$ref":"#/components/schemas/Invoice"}}},"schemas":{"Charge":{"type":"object","properties":{"id":{"type":"string","format":"uuid","description":"Charge id"},"invoice_id":{"type":"string","format":"uuid","description":"Related invoice id"},"cents":{"type":"integer","description":"Amount in cents"},"status":{"type":"string","description":"Status","enum":["created","3DS","succeeded","errored"]}}},"Invoice":{"type":"object","properties":{"id":{"type":"string","format":"uuid","description":"Invoice id"},"cents":{"type":"integer","description":"Amount in cents"},"amount":{"type":"number","description":"Amount in dollars","deprecated":true},"status":{"type":"string","description":"Status","enum":["created","paid"]},"user_id":{"type":"string","format":"uuid","description":"Related user id"}}}}}}